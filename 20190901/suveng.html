<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Cache-Control" content="no-siteapp">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1, minimum-scale=1, maximum-scale=1">
<meta name="renderer" content="webkit">
<meta name="google" value="notranslate">
<meta name="robots" content="index,follow">

<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="suveng&#39;s blog">
<meta name="twitter:description" content="你作出选择的那一日，在日记上，相当沉闷和平凡，当时还以为是生命中普通的一天。">
<meta name="twitter:image:src" content="https://suveng.github.io/blog/blog/images/avatar.jpg">

<meta property="og:url" content="https://suveng.github.io/blog">
<meta property="og:title" content="suveng&#39;s blog">
<meta property="og:description" content="你作出选择的那一日，在日记上，相当沉闷和平凡，当时还以为是生命中普通的一天。">
<meta property="og:site_name" content="suveng&#39;s blog">
<meta property="og:image" content="https://suveng.github.io/blog/blog/images/avatar.jpg">
<meta property="og:type" content="website">
<meta name="robots" content="noodp">

<meta itemprop="name" content="suveng&#39;s blog">
<meta itemprop="description" content="你作出选择的那一日，在日记上，相当沉闷和平凡，当时还以为是生命中普通的一天。">
<meta itemprop="image" content="https://suveng.github.io/blog/blog/images/avatar.jpg">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="canonical" href="https://suveng.github.io/blog">
<link rel="shortcut icon" href="/blog/favicon.png">
<link rel="apple-itouch-icon" href="/blog/favicon.png">
<link rel="stylesheet" href="/blog/bundle/index.css">
<link rel="stylesheet" href="/blog/bundle/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">


<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<link rel="stylesheet" href="https://unpkg.com/vssue/dist/vssue.min.css">



<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
<script type="text/javascript" src="/blog/bundle/jquery.min.js"></script>
<script type="text/javascript" src="/blog/bundle/bootstrap.min.js"></script>
<script type="text/javascript" src="/blog/bundle/back.js"></script>
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script src="/blog/bundle/mobile.js"></script>


<script type="text/javascript">
    var timeSinceLang = {
        year: '年前',
        month: '个月前',
        day: '天前',
        hour: '小时前',
        minute: '分钟前',
        second: '秒前'
    };
    var root = '\/blog';
</script>


    <meta name="keywords" content="开发框架,">
    <meta name="description" content="MongoDB做CURD">
    <meta name="author" content="suveng">
    <title>MongoDB做CURD</title>
</head>

<body>
    <div style="display: none;">
        <div>
            <img src="https://ws1.sinaimg.cn/large/006jIRTegy1fyr7mn7fajj31jk15odv2.jpg" style="width:300px;height:300px" />
        </div>
        </div>
        <article class="container">
            <div class="row">
    <header class="header-wrap">
        <nav class="navbar navbar-default col-sm-12 col-xs-12 col-md-12 col-lg-12 navbar-ﬁxed-top" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-collapse">
                        <span class="sr-only">切换导航</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/blog/"><img class="logo" src="/blog/images/avatar.jpg" /></a>
                    <a class="navbar-brand" href="/blog/"><label>suveng&#39;s blog</label></a>
                </div>
                <div class="collapse navbar-collapse" id="example-navbar-collapse">
                    <ul class="nav navbar-nav tag pull-right">
                        <li><a href="/blog">首页</a></li>
                        <li><a href="/blog/archive.html">内容</a></li>
                        <li><a href="/blog/tag.html">分类</a></li>
                        <li><a href="/blog/about.me.html">关于</a></li>
                        <li><a href="/blog/atom.xml">订阅</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
</div>

            
            <div class="k-catelog-list" id="catelogList"></div>
            <article class="main article">
                <h1 class="title">MongoDB做CURD</h1>
                <section class="info">
                    <span class="avatar" style="background-image: url(/blog/images/avatar.jpg);"></span>
                    <a class="name" href="/blog/about.me.html">suveng</a>
                    
                    <span class="date" data-time="1567306800"><span class="from"></span></span>
                    
                    <span class="tags"><a class="tag" href="/blog/tag/%e5%bc%80%e5%8f%91%e6%a1%86%e6%9e%b6/index.html">开发框架</a></span>
                    <span id="busuanzi_container_page_pv" class="date">被围观了<span id="busuanzi_value_page_pv"></span>次</span>
                </section>
                <article id='content' class="content"><h1>springboot2.X 使用spring-data组件对MongoDB做CURD</h1>

<h2>使用背景</h2>

<p>基于快速开发,需求不稳定的情况, 我决定使用MongoDB作为存储数据库,搭配使用spring-data</p>

<p>因为快速开发,使用spring data可以直接在类上建表等其他操作,而且对于复合数据模型,MongoDB可以直接存储</p>

<h2>代码地址</h2>

<p><a href="https://gitee.com/suveng/demo/tree/master/chapter.003">gitee</a></p>

<p><a href="https://github.com/suveng/demo/tree/master/chapter.003">github</a></p>

<h2>入门普通级别</h2>

<h3>1.引入maven依赖</h3>

<pre><code class="language-xml">&lt;dependencies&gt;
        &lt;!--###############时间日期操作################--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;joda-time&lt;/groupId&gt;
            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;
        &lt;/dependency&gt;


        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;cn.hutool&lt;/groupId&gt;
            &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!--###############springboot-aop模块################--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;!--###############test模块################--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
        &lt;!--###############web模块################--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--###############lombok################--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!--fast json--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
            &lt;artifactId&gt;guava&lt;/artifactId&gt;
        &lt;/dependency&gt;

&lt;/dependencies&gt;
</code></pre>

<p><strong>基于maven dependencyManagement 版本控制如下:</strong></p>

<pre><code class="language-xml">    &lt;dependencyManagement&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
                &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;
                &lt;type&gt;pom&lt;/type&gt;
                &lt;scope&gt;import&lt;/scope&gt;
            &lt;/dependency&gt;

            &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;mysql&lt;/groupId&gt;
                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
                &lt;version&gt;5.1.48&lt;/version&gt;
            &lt;/dependency&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;cn.hutool&lt;/groupId&gt;
                &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;
                &lt;version&gt;4.5.16&lt;/version&gt;
            &lt;/dependency&gt;

            &lt;!--mybatis--&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
                &lt;version&gt;2.0.0&lt;/version&gt;
            &lt;/dependency&gt;

            &lt;!--fast json--&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
                &lt;artifactId&gt;fastjson&lt;/artifactId&gt;
                &lt;version&gt;1.2.56&lt;/version&gt;
            &lt;/dependency&gt;

            &lt;!-- druid --&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
                &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
                &lt;version&gt;1.1.9&lt;/version&gt;
            &lt;/dependency&gt;

            &lt;dependency&gt;
                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
                &lt;artifactId&gt;guava&lt;/artifactId&gt;
                &lt;version&gt;19.0&lt;/version&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/dependencyManagement&gt;

</code></pre>

<h3>2.使用docker启动MongoDB</h3>

<pre><code>docker run --restart=&quot;always&quot; \
          -d \
          --name mongo\
          -p 27017:27017\
          -v /docker/mongo/data/db:/data/db\
          mongo:latest --storageEngine wiredTiger 
</code></pre>

<h3>3.创建Mongo的实体类</h3>

<ul>
<li><p>@Document(collection=&ldquo;female&rdquo;)</p></li>

<li><p>设置id: @Id</p></li>

<li><p>设置属性</p></li>

<li><p>构建索引</p></li>

<li><p>getter/setter</p></li>
</ul>

<blockquote>
<p><a href="https://github.com/suveng/demo/blob/master/chapter.003/src/main/java/my/suveng/app/model/Female.java">Female.java</a></p>
</blockquote>

<pre><code>@Document(collection = &quot;female&quot;)
@Data
public class Female {
	/**
	 * 主键
	 */
	@Id
	private String id;

	/**
	 * 姓名
	 */
	private String name;

	/**
	 * 年龄
	 */
	private String age;

	/**
	 * 哪种类型的女人;FemaleTypeEnums
	 */
	private Integer type;

	/**
	 * 舔狗
	 */
	private List&lt;Male&gt; dogs;

	/**
	 * 男朋友们
	 */
	@Indexed
	private List&lt;Male&gt; boyFriends;

	/**
	 * 男神们
	 */
	@Indexed
	private List&lt;Male&gt; dreamers;

	/**
	 * 创建时间
	 */
	@Indexed
	private Date createTime;

	/**
	 * 修改时间
	 */
	private Date modifiedTime;
}
</code></pre>

<h3>4.创建Dao层</h3>

<ul>
<li><p>创建Repository 继承于MongoRepository</p></li>

<li><p>根据规则来编写接口方法, spring data mongodb的dao 方法规则详细查看<a href="https://docs.spring.io/spring-data/data-mongodb/docs/2.1.2.RELEASE/reference/html/#repositories.query-methods.details">点这里</a>,理论上用idea会提示出来的.</p></li>

<li><p>编写单元测试方法</p></li>
</ul>

<p><strong>创建Repository 继承于MongoRepository,编写接口方法</strong></p>

<blockquote>
<p><a href="https://github.com/suveng/demo/blob/master/chapter.003/src/main/java/my/suveng/app/dao/FemaleRepository.java">FemaleRepository.java</a></p>
</blockquote>

<pre><code class="language-java">public interface FemaleRepository extends MongoRepository&lt;Female,String&gt; {
	Page&lt;Female&gt; findAllByCreateTimeBetweenAndNameContaining(Date createTime, Date createTime2, String name, Pageable pageable);

	Page&lt;Female&gt; findAllByCreateTimeBefore(Date createTime, Pageable pageable);

	Page&lt;Female&gt; findAllByCreateTimeAfter(Date createTime, Pageable pageable);

	Page&lt;Female&gt; findAllByCreateTimeBetween(Date start, Date end, PageRequest pageRequest);
}
</code></pre>

<p><strong>单元测试方法</strong></p>

<blockquote>
<p><a href="https://github.com/suveng/demo/blob/master/chapter.003/src/test/java/my/suveng/app/dao/FemaleRepositoryTest.java">FemaleRepositoryTest.java</a></p>
</blockquote>

<pre><code class="language-java">	/**
	 * description: 添加测试数据
	 * author: suwenguang
	 * date: 2019-09-01
	 */
	@Test
	public void addTestData() {
		for (int i = 0; i &lt; 1000; i++) {
			Female entity = new Female();
			entity.setName(RandomUtil.randomString(12));
			LocalDate now = LocalDate.now();
			LocalDate localDate = now.minusDays(RandomUtil.randomInt(4));
			entity.setCreateTime(localDate.toDate());
			femaleRepository.save(entity);
		}
	}

	/**
	 * description: 测试查询构造器
	 * author: suwenguang
	 * date: 2019-09-01
	 */
	public void  matching(){
		//精确匹配和模糊匹配
		Female probe = new Female();
		ExampleMatcher matching = ExampleMatcher.matching()
			.withMatcher(&quot;name&quot;, ExampleMatcher.GenericPropertyMatcher.of(ExampleMatcher.StringMatcher.CONTAINING))//模糊匹配
			.withIgnorePaths(&quot;id&quot;)//忽略匹配id
			;
		PageRequest of = PageRequest.of(0, 10);
		Page&lt;Female&gt; all = femaleRepository.findAll(Example.of(probe, matching), of);
		System.out.println(JSON.toJSONString(all));
	}

	/**
	 * description: 测试范围查询
	 * author: suwenguang
	 * date: 2019-09-01
	 */
	@Test
	public void findAllByCreateTimeAfter() {
		LocalDate yesteday = new LocalDate().minusDays(3);
		PageRequest of = PageRequest.of(0, 10);
		List&lt;Female&gt; byCreateTimeAfter = femaleRepository.findAllByCreateTimeAfter(yesteday.toDate(), of);
		System.out.println(JSON.toJSONString(byCreateTimeAfter));
	}

	/**
	 * description: 测试范围查询
	 * author: suwenguang
	 * date: 2019-09-01
	 */
	@Test
	public void findByCreateTimeBetween() {
		LocalDate localDate = new LocalDate();
		Page&lt;Female&gt; byCreateTimeBetween = femaleRepository.findByCreateTimeBetween(localDate.minusDays(2).toDate(), localDate.toDate(), PageRequest.of(0, 10));
		System.out.println(JSON.toJSONString(byCreateTimeBetween.getContent()));
	}
</code></pre>

<h2>进阶Querydsl扩展复杂查询</h2>

<blockquote>
<p>(基于单表的复杂查询,多表复杂查询暂时不纳入讨论范围)</p>
</blockquote>

<p>如果按照以上的用法,动态扩展多条件查询仍然不能够完美支持,会导致代码冗余,当然你如果使用mongoTemlate进行自己封装,另当别论.</p>

<p>那么为了实现动态扩展多条件查询,我去查看对应版本的官方文档,<a href="https://docs.spring.io/spring-data/data-mongodb/docs/2.1.2.RELEASE/reference/html/#core.extensions.querydsl">跳转点这里</a>,看到可以集成querydsl作为扩展.</p>

<h3>步骤</h3>

<ul>
<li><p>整合querydsl</p></li>

<li><p>使用dsl</p></li>
</ul>

<h3>1.整合querydsl</h3>

<blockquote>
<p><a href="http://www.querydsl.com/">1.Querydsl官网</a></p>

<p><a href="http://www.querydsl.com/static/querydsl/latest/reference/html/ch02.html#jpa_integration">2.querydsl集成文档</a></p>
</blockquote>

<p><strong>pom.xml配置引入依赖</strong></p>

<pre><code class="language-xml">       &lt;!--###############复杂查询querydsl jpa################--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;
            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;
            &lt;version&gt;${querydsl.version}&lt;/version&gt;
            &lt;scope&gt;provided&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;
            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;
            &lt;version&gt;${querydsl.version}&lt;/version&gt;
        &lt;/dependency&gt;

&lt;!--        &lt;dependency&gt;--&gt;
&lt;!--            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;--&gt;
&lt;!--            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;--&gt;
&lt;!--            &lt;version&gt;1.6.1&lt;/version&gt;--&gt;
&lt;!--        &lt;/dependency&gt;--&gt;
</code></pre>

<p><strong>为什么要注释掉slf4j?</strong></p>

<p>因为我的springboot项目已经引入了slf4j,没必要重复声明,自己可以通过idea的maven dependence查看是否有引入,没有则需要重新引入</p>

<h3>2.使用dsl</h3>

<ul>
<li>在<code>dao</code>的<code>repository</code>中继承<code>QuerydslPredicateExecutor&lt;T&gt;</code></li>
</ul>

<pre><code class="language-java">  public interface FemaleRepository extends MongoRepository&lt;Female,String&gt;, QuerydslPredicateExecutor&lt;Female&gt; {
  
  }
</code></pre>

<ul>
<li>编写单元测试<a href="https://github.com/suveng/demo/blob/master/chapter.003/src/test/java/my/suveng/app/dao/FemaleRepositoryTest.java">FemaleRepositoryTest.java</a></li>
</ul>

<pre><code class="language-java">  	/**
  	 * description: 多条件
  	 * author: suwenguang
  	 * date: 2019-09-01
  	 */
  	@Test
  	public void querydsl() {
  		PageRequest of = PageRequest.of(0, 10);
  		QFemale female = QFemale.female;
  		BooleanExpression createTimeBetween = female.createTime.between(LocalDate.now().minusDays(2).toDate(), LocalDate.now().minusDays(1).toDate());
  		BooleanBuilder builder = new BooleanBuilder(createTimeBetween);
  		BooleanExpression contains = female.name.contains(&quot;3&quot;);
  		builder.and(contains);
  		Page&lt;Female&gt; all = femaleRepository.findAll(builder,of);
  		System.out.println(all.getTotalElements());
  		System.out.println(JSON.toJSONString(all.getContent()));
  	}
</code></pre>

<p>如上所示, 这样子可以<strong>动态构造</strong>所需要的条件,<strong>多个范围查询也可以支持</strong>了!!!那么对于后台的搜索数据只需要一个接口就可以了</p>

<p>至于怎么实现,后面再继续整合 <a href="https://gitee.com/daniuit/X-admin">X-admin 2.2</a>这个后端模板, 另外出一篇文章吧.</p>

<blockquote>
<p>如果对上诉<strong>代码有问题</strong>或者有<strong>其他的扩展性问题</strong>,欢迎留下你的评论.</p>
</blockquote>

<h2>补充</h2>

<ul>
<li><strong>BooleanBuilder的类图, 可以通过idea查看,因为findAll是通过父类继承下来的接口, 里面的Predicate也是一个接口,而BooleanExpression和BooleanBuilder都是实现了Predicate的;</strong>
<img src="data:image/gif;base64,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" data-src="https://img2018.cnblogs.com/blog/1419387/201909/1419387-20190901192816243-1084215449.png" alt="" /></li>
</ul>
</article>
                <section class="author">
                    <a class="name" href="/blog/about.me.html">
                    <div class="avatar" style="background-image: url(/blog/images/avatar.jpg);"></div>
                    suveng
                </a>
                    <div class="intro">Java服务端开发者</div>
                </section>
                <section class="recommend">
                    
                    <section class="nav prev more">
                        <div class="head">上篇文章</div>
                        <a class="link" href="/blog/20190906/suveng.html">Prometheus 入门与实践</a>
                    </section>
                    
                    
                    <section class="nav next more">
                        <div class="head">下篇文章</div>
                        <a class="link" href="/blog/20190825/suveng.html">开源脚手架</a>
                    </section>
                    
                </section>
                <div class="social-share" data-disabled="google,twitter,facebook,diandian" data-description="MongoDB做CURD">
    分享：
</div>



  <div id="vssue"></div>

<script src="https://unpkg.com/vue/dist/vue.min.js"></script>

<script src="https://unpkg.com/vssue/dist/vssue.github.min.js"></script>

<script>
  new Vue({
    el: '#vssue',

    data: {
      title: function(){ return document.getElementsByClassName("title")[0].innerText},
      options: {
		labels: ['Vssue', location.pathname],
        owner: 'suveng',
        repo: 'blog',
        clientId: '3a43184a0785d6df7e74',
        clientSecret: 'df3a9c7c0f62e2b52ac67c5c98ae9e20308e4367',
      },
    },

    template: `<vssue :title="title" :options="options"></vssue>`,
  })
</script>




    
    
    
    
    
    
    
    








            </article>
        </article>
        <footer class="footer">
    <span class="copyright">
        suveng&#39;s blog ©
        <script type="text/javascript">
            document.write(new Date().getFullYear());
        </script>
    </span>
    <span class="publish">Powered by <a href="http://www.chole.io/" target="_blank">Ink</a></span>
</footer>

        <script src="/blog/bundle/index.js"></script>
        <script type="text/javascript" src="/blog/bundle/treeBar.js"></script>
</body>

</html>